# Модульный проект по авторизации пользователей в системе

[User] → [LoginPage] ← [TestAuth]
              ↑
         [SetupDriver]

# Схема взаимодействия классов
Классы предоставляют только необходимые интерфейсы
┌─────────────┐       ┌─────────────┐       ┌───────────┐
│  TestAuth   │──────>│  LoginPage  │──────>│   User    │
├─────────────┤       ├─────────────┤       ├───────────┤
│ + driver    │       │ - driver    │       │ - username│
│ + login_page│       ├─────────────┤       │ - password│
└──────┬──────┘       │ + auth()    │       └───────────┘
       │              └──────┬──────┘
       │                     │
       ▼                     ▼
┌─────────────┐       ┌─────────────┐
│SetupDriver  │       │  WebDriver  │
├─────────────┤       └─────────────┘
│ + setup()   │
│ + close()   │
└─────────────┘

```TestAuth``` координирует процесс тестирования, зависит от абстракций (LoginPage, SetupDriver)
```SetupDriver``` абстрагирует настройку драйвера, инкапсулирует работу с драйвером,  отвечает только за управление драйвером.
```LoginPage``` абстрагирует взаимодействие со страницей авторизации, инкапсулирует взаимодействие со страницей авторизации,  зависит от абстракции (любой драйвер), отвечает только за авторизацию.
```User``` абстрагирует тестовые данные, инкапсулирует тестовые данные, хранит только данные пользователя, все объекты User взаимозаменяемы в методе authorization()

# 1. Модуль login_page.py
Назначение: Реализация страницы авторизации и логики входа в систему.

Классы:
LoginPage # Описывает функционал страницы авторизации.
Конструктор класса __init__(self, driver) # Принимает объект веб-драйвера для взаимодействия с браузером.

Метод authorization(self, user) # Выполняет полный цикл авторизации
Ввод логина/пароля из объекта user
Клик по кнопке входа
Проверка результата:
Успех: наличие заголовка "Products"
Ошибка: наличие элемента с сообщением об ошибке
работает с любым объектом типа User
Можно легко добавить новые типы пользователей без изменения кода авторизации.


# 2. Модуль setup_driver.py
Назначение: Настройка и управление веб-драйвером.

Классы:
SetupDriver # Управляет жизненным циклом браузера.
Конструктор класса __init__(self) # Создает экземпляр ChromeDriver и задает URL приложения.

Метод setup_driver(self)
Открывает браузер, переходит на заданный URL и ожидает полной загрузки страницы.
Метод close_driver(self)
Корректно закрывает браузер и освобождает ресурсы.


# 3. Модуль users.py
Назначение: Создание тестовых пользователей.

Классы:
User # Шаблон для создания пользователей.
Конструктор класса  __init__(self, username, password) # Создает объект пользователя с логином и паролем.

Экземпляры пользователей:
standard_user  # Стандартный пользователь с валидными данными
locked_out_user # Заблокированный в системе пользователь
problem_user # Пользователь с проблемными данными (специфичные баги)
performance_glitch_user # Пользователь с задержками отклика системы


# 4. Модуль test_auth.py
Назначение: Запуск тестов авторизации для разных пользователей.

Классы:
TestAuth
Организует процесс тестирования.
Инициализация __init__(self)

Создает:
Экземпляр SetupDriver (настраивает браузер)
Экземпляр LoginPage (для работы со страницей входа)

Методы тестирования:
test_standard_user_login(): Тест для стандартного пользователя
test_locked_out_user_login(): Тест для заблокированного пользователя
test_problem_user_login(): Тест для проблемного пользователя
performance_glitch_user(): Тест для пользователя с задержками


# Пример расширения без изменения существующего кода:
## Добавление нового пользователя
users.append(User(username='new_user', password='new_pass'))

## Добавление нового теста
class TestLockedUser:
    def __init__(self):
        self.driver = SetupDriver().setup_driver()
        self.login_page = LoginPage(self.driver)
    
    def run_test(self):
        user = User(username='locked_out_user')
        result = self.login_page.authorization(user)
        assert result == False